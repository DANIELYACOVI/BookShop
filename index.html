<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BookShop</title>
    <link rel="stylesheet" href="css/book-shop.css">
</head>

<body onload="onInit()">
    <h1>Book Shop</h1>
    <div class="container">

        <!-- <section class="filter">
            <select onchange="onSetFilterBy(this)">
                <option value="">All</option>
                <option value="Delete">Delete</option>
                <option value="Active">Active</option>
            </select>
        </section> -->

        <section class="top-bar">
            <section class="search">
                <input type="text" id="searchInput" placeholder="Search by title" oninput="onSearch()">
            </section>

            <button class="add-book" onclick="openModalBySelector('.add-book-dialog')"> &plus; Add a book</button>
        </section>

        <dialog class="add-book-dialog">
            <form id="newBookForm" onsubmit="onAddBook(event)">
                <label for="newBookTitle">Title:</label>
                <input type="text" id="newBookTitle" required>
                <label for="newBookPrice">Price:</label>
                <input type="number" id="newBookPrice" required>
                <label for="newBookPrice">Rating:</label>
                <input type="number" id="newRating" required>
                <button type="submit" class="add">Add</button>
                <button type="button" class="cancel" onclick="onCancelAddBook()">Cancel</button>
            </form>
        </dialog>

        <table class="book-table">
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Price</th>
                    <th>Rating</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody class="book-list"></tbody>
        </table>

        <div class="pagination-container">
            <button class="prev" onclick="onPrevPage()">Prev</button>
            <button class="next" onclick="onNextPage()">Next</button>
        </div>

        <dialog class="book-details">
            <form method="dialog">
                <h2>Book: <span></span></h2>
                <h3>Book Description:</h3>
                <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit.
                    Quisquam necessitatibus similique, ex earum harum voluptatibus!
                </p>
                <pre></pre>
                <button class="close-details">&times;</button>
            </form>
        </dialog>
    </div>

    <dialog class="success-dialog">
        <p class="success-message"></p>
    </dialog>
    
    <footer class="books-footer">
        <h5>Book count by price</h5>
            <h6>Expensive: <span class="expensive-books"></span></h6>
            <h6>Average: <span class="average-books"></span></h6>
            <h6>Cheap: <span class="cheap-books"></span></h6>
    </footer>

    <script src="js/services/util.service.js"></script>
    <script src="js/services/storage.service.js"></script>
    <script src="js/services/book.service.js"></script>
    <script src="js/book-shop.controller.js"></script>

</body>

</html>